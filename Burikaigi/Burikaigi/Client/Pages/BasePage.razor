@using System.Net
@using Burikaigi.Shared
@inject Services.HttpService Http
@inject NavigationManager NavigationManager

@code {
	protected override async Task OnInitializedAsync() {
		await base.OnInitializedAsync();

		var user = await Http.GetFromJsonAsync<UserInfo>("/accountapi/user");
		if (user != null) {
			return;
		}

		NavigationManager.NavigateTo("/login");
	}
}
